<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bee Flower Collector</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <!-- Enhanced Game Header with Energy and Combo -->
        <div class="game-header">
            <div class="top-row">
                <div class="score">ğŸŒ» Score: <span id="score">0</span></div>
                <div class="timer">â±ï¸ Time: <span id="timer">60</span>s</div>
            </div>
            <div class="energy-bar">
                <div class="energy-label">âš¡ Energy</div>
                <div class="energy-container">
                    <div class="energy-fill" id="energyFill"></div>
                </div>
            </div>
            <div class="combo-display" id="comboDisplay" style="display: none;">
                ğŸ”¥ Combo x<span id="comboCount">2</span>
            </div>
            <div class="nectar-display">
                ğŸ§ª Nectar: <span id="nectar">0</span>
            </div>
        </div>

        <!-- Enhanced Game Area -->
        <div class="game-area" id="gameArea">
            <div class="bee" id="bee">ğŸ</div>
            <div class="pollen-trail" id="pollenTrail"></div>
            <div class="weather-overlay" id="weatherOverlay" style="display: none;"></div>
        </div>

        <!-- Enhanced Game Controls -->
        <div class="game-controls">
            <button id="startBtn" class="tg-button">Start Game</button>
            <button id="pauseBtn" class="tg-button" style="display: none;">Pause</button>
            <button id="hiveBtn" class="hive-button" style="display: none;">ğŸ  Return to Hive</button>
        </div>

        <!-- Enhanced Game Stats -->
        <div class="game-stats">
            <div>ğŸ† High Score: <span id="highScore">0</span></div>
            <div>ğŸ¯ Honey: <span id="honey">0</span></div>
            <div>âš¡ Speed: <span id="speedLevel">1</span></div>
            <div>ğŸ§² Magnet: <span id="magnetLevel">1</span></div>
        </div>

        <!-- Upgrade Shop -->
        <div class="upgrade-shop" id="upgradeShop" style="display: none;">
            <h3>ğŸ› ï¸ Upgrades</h3>
            <div class="upgrade-item">
                <span>âš¡ Speed Level <span id="upgradeSpeed">1</span></span>
                <button class="upgrade-btn" data-upgrade="speed">Upgrade (ğŸ§ª<span id="speedCost">10</span>)</button>
            </div>
            <div class="upgrade-item">
                <span>ğŸ§² Magnet Level <span id="upgradeMagnet">1</span></span>
                <button class="upgrade-btn" data-upgrade="magnet">Upgrade (ğŸ§ª<span id="magnetCost">15</span>)</button>
            </div>
            <div class="upgrade-item">
                <span>ğŸ›¡ï¸ Shield Duration <span id="upgradeShield">0</span>s</span>
                <button class="upgrade-btn" data-upgrade="shield">Upgrade (ğŸ§ª<span id="shieldCost">20</span>)</button>
            </div>
            <button id="closeShop" class="close-btn">âœ•</button>
        </div>

        <!-- Daily Challenges -->
        <div class="daily-challenges" id="dailyChallenges" style="display: none;">
            <h3>ğŸ¯ Daily Challenges</h3>
            <div class="challenge-item" id="challenge1"></div>
            <div class="challenge-item" id="challenge2"></div>
            <div class="challenge-item" id="challenge3"></div>
            <button id="closeChallenges" class="close-btn">âœ•</button>
        </div>

        <!-- Mode Selection -->
        <div class="mode-selection" id="modeSelection" style="display: none;">
            <h3>ğŸ® Game Mode</h3>
            <button class="mode-btn" data-mode="classic">ğŸŒ» Classic</button>
            <button class="mode-btn" data-mode="rush">âš¡ Time Rush</button>
            <button class="mode-btn" data-mode="survival">ğŸ›¡ï¸ Survival</button>
        </div>

        <!-- Leaderboard -->
        <div class="leaderboard" id="leaderboard" style="display: none;">
            <h3>ğŸ† Leaderboard</h3>
            <div class="leaderboard-list" id="leaderboardList"></div>
            <button id="closeLeaderboard" class="close-btn">âœ•</button>
        </div>

        <!-- Bee Skins -->
        <div class="bee-skins" id="beeSkins" style="display: none;">
            <h3>ğŸ¨ Bee Skins</h3>
            <div class="skin-grid" id="skinGrid"></div>
            <button id="closeSkins" class="close-btn">âœ•</button>
        </div>

        <!-- Menu Buttons -->
        <div class="menu-buttons" id="menuButtons">
            <button class="menu-btn" id="upgradeBtn">ğŸ› ï¸ Upgrades</button>
            <button class="menu-btn" id="challengesBtn">ğŸ¯ Challenges</button>
            <button class="menu-btn" id="leaderboardBtn">ğŸ† Leaderboard</button>
            <button class="menu-btn" id="skinsBtn">ğŸ¨ Skins</button>
        </div>

        <div class="sound-controls">
            <button id="soundToggle" class="sound-btn">ğŸ”Š</button>
        </div>

        <!-- Audio elements for sound effects -->
        <audio id="collectSound" preload="auto">
            <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=" type="audio/wav">
        </audio>
        <audio id="powerUpSound" preload="auto">
            <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=" type="audio/wav">
        </audio>
        <audio id="moveSound" preload="auto">
            <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=" type="audio/wav">
        </audio>
        <audio id="gameOverSound" preload="auto">
            <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=" type="audio/wav">
        </audio>
        <audio id="startSound" preload="auto">
            <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=" type="audio/wav">
        </audio>
    </div>

    <script src="sounds.js"></script>
    <script src="game-enhancements.js"></script>
    <script src="game.js"></script>
</body>
</html>